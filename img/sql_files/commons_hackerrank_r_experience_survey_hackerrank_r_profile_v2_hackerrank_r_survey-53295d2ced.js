(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"6oFb":function(e,t,n){"use strict";n("a1Th"),n("h7Nl"),n("I5cv");var i=n("pVnL"),o=n.n(i),a=(n("2Spj"),n("QILm")),s=n.n(a),r=n("lwsE"),l=n.n(r),c=n("W8MJ"),u=n.n(c),m=n("PJYZ"),p=n.n(m),f=n("7W2i"),d=n.n(f),g=n("a1gu"),b=n.n(g),h=n("Nsbk"),v=n.n(h),y=n("lSNA"),F=n.n(y),R=n("cDcd"),S=n.n(R),E=n("fvjX"),T=n("17x9"),M=n.n(T),k=n("KYPV"),C=n("f0wr"),w=n("N/wF"),D=n("OEX3"),P=n("qZTp"),O=n("jx0p"),q=n("bh43");n("UT2+");function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){d()(i,e);var t,n=(t=i,function(){var e,n=v()(t);if(N()){var i=v()(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return b()(this,e)});function i(){var e;l()(this,i);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),F()(p()(e),"state",void 0),F()(p()(e),"state",{isFormOpen:!1}),F()(p()(e),"toastTimeout",void 0),F()(p()(e),"toast",new C.a({type:"basic",placement:"topRight",closable:!0})),F()(p()(e),"openFormDialog",(function(){(0,e.props.sendMetrics)("Click","OpenProfileModal"),e.toggleFormDialog(!0)})),F()(p()(e),"closeFormDialog",(function(t){var n=t.handleReset;(0,e.props.sendMetrics)("Click","CloseProfileModal"),n(),e.toggleFormDialog(!1)})),F()(p()(e),"sendSubmitMetrics",(function(){(0,e.props.sendMetrics)("Click","SaveUpdateProfileButton")})),F()(p()(e),"onSubmit",(function(t,n){var i=e.props,o=i.onSubmit,a=i.profileActions,s=i.mapValues,r=i.onSuccess,l=i.onFailure,c=i.sendMetrics,u=i.toastMessages,m=u.submit,p=u.success,f=u.error;c("Click","UpdateProfile"),o&&o();var d=t;s&&(d=s(t)),m&&e.toast.update({message:m,icon:"ui-icon-loading"}),a.updateProfile("me",d).then((function(){e.toastTimeout=setTimeout((function(){n.setSubmitting(!1),p&&e.toast.update({type:"success_strong",message:p,icon:"ui-icon-success",duration:2}),e.toggleFormDialog(!1),r&&r()}),500)}),(function(){e.toastTimeout=setTimeout((function(){n.setSubmitting(!1),f&&e.toast.update({type:"error_strong",icon:"ui-icon-error",message:f,duration:2}),l&&l()}),500)}))})),F()(p()(e),"onReset",(function(){var t=e.props.onReset;t&&t()})),e}return u()(i,[{key:"toggleFormDialog",value:function(e){this.setState({isFormOpen:e})}},{key:"componentWillUnmount",value:function(){this.toastTimeout&&clearTimeout(this.toastTimeout)}},{key:"render",value:function(){var e=this,t=this.state.isFormOpen,n=this.props,i=n.children,a=n.title,r=n.triggerElement,l=n.size,c=n.initialValues,u=n.validate,m=(n.toastMessages,n.isCustomForm),p=s()(n,["children","title","triggerElement","size","initialValues","validate","toastMessages","isCustomForm"]);return S.a.createElement(R.Fragment,null,!m&&S.a.createElement("button",{className:"btn-as-link",onClick:this.openFormDialog},r),S.a.createElement(k.d,o()({initialValues:c,enableReinitialize:!0,onSubmit:this.onSubmit,onReset:this.onReset,validate:u},p),(function(n){return m?S.a.createElement(k.c,null,i(n)):S.a.createElement(R.Fragment,null,t&&S.a.createElement(w.a,{open:!0,onClose:e.closeFormDialog.bind(e,n),modalClass:"profile-edit-form",title:a,size:l},S.a.createElement(k.c,null,i(n),S.a.createElement("div",{className:"form-footer-buttons"},S.a.createElement(D.h,{className:"cancel-btn ui-btn-line-primary",type:"button",onClick:e.closeFormDialog.bind(e,n)},"Cancel"),S.a.createElement(P.b,{className:"ui-btn-primary",onClick:e.sendSubmitMetrics},"Save")))))})))}}]),i}(R.Component);F()(V,"propTypes",{initialValues:M.a.object.isRequired,mapValues:M.a.function,validate:M.a.func,onSubmit:M.a.func,onReset:M.a.func,onSuccess:M.a.func,onFailure:M.a.func,children:M.a.func.isRequired,profile:M.a.object.isRequired,profileActions:M.a.object.isRequired,title:M.a.string.isRequired,size:M.a.oneOf(["small","medium","full"]),triggerElement:M.a.element.isRequired,sendMetrics:M.a.func.isRequired,toastMessages:M.a.shape({submit:M.a.oneOfType([M.a.boolean,M.a.string]),success:M.a.oneOfType([M.a.boolean,M.a.string]),error:M.a.oneOfType([M.a.boolean,M.a.string])})}),F()(V,"defaultProps",{size:"small",toastMessages:{submit:"Updating Profile...",success:"Profile updated successfully.",error:"Error while Updating profile details"}}),t.a=Object(E.d)(q.n,O.a)(V)},"UT2+":function(e,t,n){}}]);
//# sourceMappingURL=https://hrcdn.net/community-frontend/assets/sourcemaps/commons~hackerrank_r_experience_survey~hackerrank_r_profile_v2~hackerrank_r_survey-53295d2ced.js.map